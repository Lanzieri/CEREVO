---
import BaseLayout from "../layouts/BaseLayout.astro";
---

<BaseLayout
  title="Dala Inc — Automatizaciones con IA"
  description="Automatiza procesos con IA y n8n para ahorrar tiempo y costos."
>
  <!-- =========================
       HERO centrado (sin demo/imagen)
       ========================= -->
  <section class="relative min-h-[76vh] flex items-center justify-center overflow-hidden">
    <!-- Fondo animado -->
    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>
    <div class="aurora"></div>
    <div class="lines"></div>
    <div class="spotlight"></div>

    <div class="relative z-[1] max-w-4xl mx-auto text-center px-4">
      <h1 class="text-4xl md:text-6xl font-semibold tracking-tight text-white/95">
        Automatiza hoy.<br/>
        <span class="text-transparent bg-clip-text bg-gradient-to-r from-[#c026d3] to-[#7c3aed]">Eficiencia que se nota.</span>
      </h1>

      <p class="mt-4 text-white/85 leading-relaxed">
        Integramos IA en tus procesos con flujos nativos (n8n, LLMs y APIs) para reducir tiempos, errores y costos.
        Elegí un servicio y <a href="#contacto" class="btn-link">escribinos</a>.
      </p>

      <div class="mt-8 flex flex-wrap items-center justify-center gap-3">
        <a href="#contacto"
           class="px-5 py-3 rounded-xl text-white text-sm font-medium
                  bg-gradient-to-r from-[#c026d3] to-[#7c3aed] hover:opacity-95 transition">
          Solicitar plan
        </a>

        <a href="#servicios"
           class="px-5 py-3 rounded-xl text-white text-sm font-medium
                  bg-gradient-to-r from-[#c026d3] to-[#7c3aed] hover:opacity-95 transition">
          Ver servicios
        </a>
      </div>

      <div class="mt-6 flex flex-wrap items-center justify-center gap-2">
        <span class="px-4 py-2 rounded-full bg-black/80 text-white text-xs">Implementación ágil</span>
        <span class="px-4 py-2 rounded-full bg-black/80 text-white text-xs">Integrable con tu stack</span>
        <span class="px-4 py-2 rounded-full bg-black/80 text-white text-xs">Ahorro de horas/mes</span>
      </div>
    </div>
  </section>

 <!-- =========================
   BENEFICIOS (exactamente como lo enviaste, SIN CAMBIOS)
   ========================= -->
<section id="beneficios" class="relative z-[1] py-20">
  <div class="max-w-6xl mx-auto px-4">
    <div class="text-center mb-10">
      <h2 class="text-3xl md:text-5xl font-semibold tracking-tight text-white/95">
        Optimiza, acelera y automatiza
      </h2>
      <p class="mt-3 text-white/80">
        Resultados medibles desde la primera semana. Integramos IA con lo que ya usás.
      </p>
    </div>

    <div class="grid gap-6 md:gap-8 md:grid-cols-3">
      <!-- Tarjeta 1: Reducción del trabajo manual -->
      <article class="benefit-card js-reveal">
        <div class="icon-visual">
          <!-- Reloj con manecillas animadas -->
          <svg class="clock-icon" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
            <circle cx="50" cy="50" r="30" fill="none" stroke="#c026d3" stroke-width="6"/>
            <line x1="50" y1="50" x2="68" y2="50" stroke="#fff" stroke-width="5" stroke-linecap="round"/>
            <line x1="50" y1="50" x2="50" y2="32" stroke="#fff" stroke-width="5" stroke-linecap="round"/>
          </svg>
        </div>
        <div class="simple-card__body">
          <h3 class="benefit-title">Reducción del trabajo manual</h3>
          <p class="copy">Automatizamos tareas repetitivas para liberar a tu equipo.</p>
          <div class="badges">
            <span class="badge"><b class="metric" data-to="35">0</b>% menos tiempo operativo</span>
          </div>
        </div>
      </article>

      <!-- Tarjeta 2: Mayor velocidad operativa -->
      <article class="benefit-card js-reveal">
        <div class="icon-visual">
          <!-- Rayo con efecto de pulso -->
          <svg class="bolt-icon" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
            <path d="M45,15 L65,45 L55,45 L70,85 L40,50 L52,50" fill="#c026d3"/>
          </svg>
        </div>
        <div class="simple-card__body">
          <h3 class="benefit-title">Mayor velocidad operativa</h3>
          <p class="copy">Flujos más ágiles, respuestas en minutos y no en horas.</p>
          <div class="badges">
            <span class="badge"><b class="metric" data-to="5">0</b>x más rápido</span>
          </div>
        </div>
      </article>

      <!-- Tarjeta 3: Menos errores humanos -->
      <article class="benefit-card js-reveal">
        <div class="icon-visual">
          <!-- Check con brillo -->
          <svg class="check-icon" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
            <path d="M28,52 L44,68 L74,36" stroke="#c026d3" stroke-width="8" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="simple-card__body">
          <h3 class="benefit-title">Menos errores humanos</h3>
          <p class="copy">
            Decisiones más precisas y estandarizadas. Menos fallos, menos retrabajos y más calidad en cada proceso.
          </p>
          <div class="badges">
            <span class="badge"><b class="metric" data-to="60">0</b>% menos incidencias</span>
          </div>
        </div>
      </article>
    </div>
  </div>
</section>

  <!-- =========================
       SERVICIOS (actualizado: estático, 3 botones por tarjeta, texto exacto)
       ========================= -->
  <section id="servicios" class="relative z-[1] py-20">
    <div class="max-w-6xl mx-auto px-4">
      <div class="text-center mb-10">
        <h2 class="text-3xl md:text-5xl font-semibold tracking-tight text-white/95">
          Servicios
        </h2>
        <p class="mt-3 text-white/80">
          Roles digitales de Dala para acelerar tu negocio.
        </p>
      </div>

      <div class="grid gap-6 md:gap-8 md:grid-cols-2">
        <!-- ========== 1) Asistente para Selección de Candidatos ========== -->
        <article class="simple-card service-card js-reveal">
          <div class="service-card__header">
            <div class="service-icon">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <defs><linearGradient id="sg1" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0%" stop-color="#c026d3"/><stop offset="100%" stop-color="#7c3aed"/>
                </linearGradient></defs>
                <rect x="4" y="3" width="14" height="18" rx="2" fill="url(#sg1)"/>
                <path d="M7 7h8M7 10h8M7 13h5" stroke="#fff" stroke-width="1.6" stroke-linecap="round"/>
              </svg>
            </div>
            <h3 class="title">Asistente para Selección de Candidatos</h3>
          </div>
          <p class="copy">Filtra y clasifica automáticamente los CVs.</p>
          <ul class="service-list">
            <li>Calcula compatibilidad según experiencia y cercanía.</li>
            <li>Entrega un ranking listo para decidir más rápido.</li>
            <li>Optimiza todo el proceso de contratación de inicio a fin.</li>
          </ul>
          <div class="service-badges">
            <span class="badge">Ahorro semanal: <b class="metric" data-to="20">0</b> h/sem</span>
          </div>
          <div class="service-cta flex flex-wrap gap-2 mt-6">
            <a href="#contacto" class="px-5 py-2.5 rounded-lg text-white text-sm font-medium bg-gradient-to-r from-[#c026d3] to-[#7c3aed] hover:opacity-95 transition">
              Quiero esto
            </a>
            <a href="#roadmap" class="px-5 py-2.5 rounded-lg text-white text-sm font-medium bg-black/80 hover:bg-black/90 transition border border-white/20">
              Roadmap
            </a>
            <a href="#entregables" class="px-5 py-2.5 rounded-lg text-white text-sm font-medium bg-black/80 hover:bg-black/90 transition border border-white/20">
              Entregables
            </a>
          </div>
        </article>

        <!-- ========== 2) Agente Comercial que Nunca Duerme ========== -->
        <article class="simple-card service-card js-reveal">
          <div class="service-card__header">
            <div class="service-icon">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <defs><linearGradient id="sg3" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0%" stop-color="#c026d3"/><stop offset="100%" stop-color="#7c3aed"/>
                </linearGradient></defs>
                <path d="M4 4h16v6H4z" fill="url(#sg3)"/>
                <path d="M4 14h10l2 3 2-3h2v6H4z" fill="#fff" opacity=".1"/>
              </svg>
            </div>
            <h3 class="title">Agente Comercial que Nunca Duerme</h3>
          </div>
          <p class="copy">Extrae datos de potenciales clientes de distintas fuentes.</p>
          <ul class="service-list">
            <li>Centraliza y organiza los leads en una base única.</li>
            <li>Mantiene tu pipeline de ventas activo las 24 horas.</li>
            <li>Aumenta la eficiencia de todo tu proceso comercial.</li>
          </ul>
          <div class="service-badges">
            <span class="badge">Automatizaciones: <b class="metric" data-to="12">0</b> h/sem</span>
          </div>
          <div class="service-cta flex flex-wrap gap-2 mt-6">
            <a href="#contacto" class="px-5 py-2.5 rounded-lg text-white text-sm font-medium bg-gradient-to-r from-[#c026d3] to-[#7c3aed] hover:opacity-95 transition">
              Quiero esto
            </a>
            <a href="#roadmap" class="px-5 py-2.5 rounded-lg text-white text-sm font-medium bg-black/80 hover:bg-black/90 transition border border-white/20">
              Roadmap
            </a>
            <a href="#entregables" class="px-5 py-2.5 rounded-lg text-white text-sm font-medium bg-black/80 hover:bg-black/90 transition border border-white/20">
              Entregables
            </a>
          </div>
        </article>

        <!-- ========== 3) Auxiliar Contable Automatizado ========== -->
        <article class="simple-card service-card js-reveal">
          <div class="service-card__header">
            <div class="service-icon">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <defs><linearGradient id="sg2" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0%" stop-color="#c026d3"/><stop offset="100%" stop-color="#7c3aed"/>
                </linearGradient></defs>
                <path d="M6 3h10a2 2 0 0 1 2 2v14l-3-2-3 2-3-2-3 2V5a2 2 0 0 1 2-2z" fill="url(#sg2)"/>
                <path d="M8 8h6M8 11h8M8 14h4" stroke="#fff" stroke-width="1.6" stroke-linecap="round"/>
              </svg>
            </div>
            <h3 class="title">Auxiliar Contable Automatizado</h3>
          </div>
          <p class="copy">Procesa facturas y recibos sin intervención manual.</p>
          <ul class="service-list">
            <li>Detecta errores, duplicados o inconsistencias.</li>
            <li>Actualiza registros contables al instante.</li>
            <li>Asegura una gestión financiera ordenada y confiable.</li>
          </ul>
          <div class="service-badges">
            <span class="badge">Implementación: <b class="metric" data-to="10">0</b> días</span>
          </div>
          <div class="service-cta flex flex-wrap gap-2 mt-6">
            <a href="#contacto" class="px-5 py-2.5 rounded-lg text-white text-sm font-medium bg-gradient-to-r from-[#c026d3] to-[#7c3aed] hover:opacity-95 transition">
              Quiero esto
            </a>
            <a href="#roadmap" class="px-5 py-2.5 rounded-lg text-white text-sm font-medium bg-black/80 hover:bg-black/90 transition border border-white/20">
              Roadmap
            </a>
            <a href="#entregables" class="px-5 py-2.5 rounded-lg text-white text-sm font-medium bg-black/80 hover:bg-black/90 transition border border-white/20">
              Entregables
            </a>
          </div>
        </article>

        <!-- ========== 4) Administrador de Bases de Datos con Respuesta Inmediata ========== -->
        <article class="simple-card service-card js-reveal">
          <div class="service-card__header">
            <div class="service-icon">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <defs><linearGradient id="sg5" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0%" stop-color="#c026d3"/><stop offset="100%" stop-color="#7c3aed"/>
                </linearGradient></defs>
                <path d="M4 7h16v10H4z" fill="url(#sg5)"/>
                <circle cx="8" cy="12" r="1.4" fill="#fff"/><circle cx="12" cy="12" r="1.4" fill="#fff"/><circle cx="16" cy="12" r="1.4" fill="#fff"/>
              </svg>
            </div>
            <h3 class="title">Administrador de Bases de Datos con Respuesta Inmediata</h3>
          </div>
          <p class="copy">Gestiona información de clientes, productos o empleados.</p>
          <ul class="service-list">
            <li>Responde consultas por chatbot interno en segundos.</li>
            <li>Evita pérdidas de tiempo buscando datos dispersos.</li>
            <li>Centraliza y organiza el conocimiento de tu empresa.</li>
          </ul>
          <div class="service-badges">
            <span class="badge">Ahorro mensual: <b class="metric" data-to="50">0</b> h/mes</span>
          </div>
          <div class="service-cta flex flex-wrap gap-2 mt-6">
            <a href="#contacto" class="px-5 py-2.5 rounded-lg text-white text-sm font-medium bg-gradient-to-r from-[#c026d3] to-[#7c3aed] hover:opacity-95 transition">
              Quiero esto
            </a>
            <a href="#roadmap" class="px-5 py-2.5 rounded-lg text-white text-sm font-medium bg-black/80 hover:bg-black/90 transition border border-white/20">
              Roadmap
            </a>
            <a href="#entregables" class="px-5 py-2.5 rounded-lg text-white text-sm font-medium bg-black/80 hover:bg-black/90 transition border border-white/20">
              Entregables
            </a>
          </div>
        </article>

        <!-- ========== 5) Recepcionista Automatizado Siempre Disponible (IA de voz para llamadas) ========== -->
        <article class="simple-card service-card js-reveal">
          <div class="service-card__header">
            <div class="service-icon">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <defs><linearGradient id="sg4" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0%" stop-color="#c026d3"/><stop offset="100%" stop-color="#7c3aed"/>
                </linearGradient></defs>
                <path d="M6 6h14l-2 8H8L6 6z" fill="url(#sg4)"/>
                <circle cx="9" cy="18" r="1.6" fill="#fff"/><circle cx="17" cy="18" r="1.6" fill="#fff"/>
              </svg>
            </div>
            <h3 class="title">Recepcionista Automatizado Siempre Disponible (IA de voz para llamadas)</h3>
          </div>
          <p class="copy">IA de voz que atiende llamadas entrantes automáticamente.</p>
          <ul class="service-list">
            <li>Identifica intención y deriva al área correcta.</li>
            <li>Disponible 24/7 sin ampliar el equipo.</li>
            <li>Mejora la experiencia del cliente desde el primer contacto.</li>
          </ul>
          <div class="service-badges">
            <span class="badge">Atención: <b class="metric" data-to="18">0</b> h/sem</span>
          </div>
          <div class="service-cta flex flex-wrap gap-2 mt-6">
            <a href="#contacto" class="px-5 py-2.5 rounded-lg text-white text-sm font-medium bg-gradient-to-r from-[#c026d3] to-[#7c3aed] hover:opacity-95 transition">
              Quiero esto
            </a>
            <a href="#roadmap" class="px-5 py-2.5 rounded-lg text-white text-sm font-medium bg-black/80 hover:bg-black/90 transition border border-white/20">
              Roadmap
            </a>
            <a href="#entregables" class="px-5 py-2.5 rounded-lg text-white text-sm font-medium bg-black/80 hover:bg-black/90 transition border border-white/20">
              Entregables
            </a>
          </div>
        </article>

        <!-- ========== 6) Automatización Personalizada ========== -->
        <article class="simple-card service-card js-reveal">
          <div class="service-card__header">
            <div class="service-icon">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <defs><linearGradient id="sg6" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0%" stop-color="#c026d3"/><stop offset="100%" stop-color="#7c3aed"/>
                </linearGradient></defs>
                <path d="M6 6h12v12H6z" fill="url(#sg6)"/>
                <path d="M6 12h12M12 6v12" stroke="#fff" stroke-width="1.6"/>
              </svg>
            </div>
            <h3 class="title">Automatización Personalizada</h3>
          </div>
          <p class="copy">Diseñamos un flujo único adaptado a tu negocio.</p>
          <ul class="service-list">
            <li>Integramos APIs, plataformas y procesos internos.</li>
            <li>Escalamos soluciones a medida según tus objetivos.</li>
            <li>Automatizamos lo que tu empresa necesite de forma integral.</li>
          </ul>
          <div class="service-badges">
            <span class="badge">SLA de soporte</span>
          </div>
          <div class="service-cta flex flex-wrap gap-2 mt-6">
            <a href="#contacto" class="px-5 py-2.5 rounded-lg text-white text-sm font-medium bg-gradient-to-r from-[#c026d3] to-[#7c3aed] hover:opacity-95 transition">
              Quiero esto
            </a>
            <a href="#roadmap" class="px-5 py-2.5 rounded-lg text-white text-sm font-medium bg-black/80 hover:bg-black/90 transition border border-white/20">
              Roadmap
            </a>
            <a href="#entregables" class="px-5 py-2.5 rounded-lg text-white text-sm font-medium bg-black/80 hover:bg-black/90 transition border border-white/20">
              Entregables
            </a>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- =========================
       CÓMO TRABAJAMOS (nuevo)
       ========================= -->
  <section id="como-trabajamos" class="relative z-[1] py-20 mt-16">
    <div class="max-w-6xl mx-auto px-4">
      <div class="text-center mb-10">
        <h2 class="text-3xl md:text-5xl font-semibold tracking-tight text-white/95">
          Cómo trabajamos
        </h2>
        <p class="mt-3 text-white/80">
          Un modelo en 4 etapas, con tiempos acotados y sin frenar tu operación.
        </p>
      </div>

      <div class="grid md:grid-cols-2 gap-4 overflow-x-auto md:overflow-visible auto-cols-[minmax(320px,560px)] grid-flow-col md:grid-flow-row snap-x md:snap-none pb-2">
        <!-- 1 -->
        <article class="rounded-2xl border border-white/10 bg-white/[.02] backdrop-blur p-4 grid grid-cols-[auto,1fr] gap-3 snap-start">
          <div class="text-xl" aria-hidden="true">🧭</div>
          <div>
            <h3 class="font-semibold text-white/95">Contacto inicial y relevamiento</h3>
            <ul class="mt-2 space-y-1 text-white/80 text-sm">
              <li>Entendemos tu necesidad y puntos críticos.</li>
              <li>Definimos alcance y objetivos iniciales.</li>
              <li>Confirmamos viabilidad técnica con ejemplos de referencia.</li>
            </ul>
            <span class="inline-flex mt-2 text-xs px-2 py-1 rounded-full border border-violet-400/40 text-violet-200/90 bg-violet-500/10">Tiempo máx. 2 semanas</span>
          </div>
        </article>
        <!-- 2 -->
        <article class="rounded-2xl border border-white/10 bg-white/[.02] backdrop-blur p-4 grid grid-cols-[auto,1fr] gap-3 snap-start">
          <div class="text-xl" aria-hidden="true">🧠</div>
          <div>
            <h3 class="font-semibold text-white/95">MOC y concepto lógico</h3>
            <ul class="mt-2 space-y-1 text-white/80 text-sm">
              <li>Presentamos el Modelo Operativo Conceptual.</li>
              <li>Alineamos expectativas con tu equipo y refinamos.</li>
              <li>Dejamos criterios claros para diseño y desarrollo.</li>
            </ul>
            <span class="inline-flex mt-2 text-xs px-2 py-1 rounded-full border border-violet-400/40 text-violet-200/90 bg-violet-500/10">Tiempo máx. 2 semanas</span>
          </div>
        </article>
        <!-- 3 -->
        <article class="rounded-2xl border border-white/10 bg-white/[.02] backdrop-blur p-4 grid grid-cols-[auto,1fr] gap-3 snap-start">
          <div class="text-xl" aria-hidden="true">🧪</div>
          <div>
            <h3 class="font-semibold text-white/95">Testing en paralelo (validación)</h3>
            <ul class="mt-2 space-y-1 text-white/80 text-sm">
              <li>Ejecutamos en paralelo a tu entorno real.</li>
              <li>Ajustamos con feedback continuo, sin afectar producción.</li>
              <li>Validamos calidad y resultados antes del go-live.</li>
            </ul>
            <span class="inline-flex mt-2 text-xs px-2 py-1 rounded-full border border-violet-400/40 text-violet-200/90 bg-violet-500/10">Tiempo máx. 2 semanas</span>
          </div>
        </article>
        <!-- 4 -->
        <article class="rounded-2xl border border-white/10 bg-white/[.02] backdrop-blur p-4 grid grid-cols-[auto,1fr] gap-3 snap-start">
          <div class="text-xl" aria-hidden="true">🚀</div>
          <div>
            <h3 class="font-semibold text-white/95">Producción y soporte</h3>
            <ul class="mt-2 space-y-1 text-white/80 text-sm">
              <li>Integramos la automatización a tu flujo real.</li>
              <li>Estabilización inicial y soporte continuo.</li>
              <li>Evolución por métricas y nuevas necesidades.</li>
            </ul>
            <span class="inline-flex mt-2 text-xs px-2 py-1 rounded-full border border-violet-400/40 text-violet-200/90 bg-violet-500/10">Estabilización máx. 2 semanas</span>
          </div>
        </article>
      </div>

      <ul class="flex flex-wrap gap-2 justify-center mt-6 text-white/80 text-sm">
        <li class="px-2.5 py-1 rounded-full border border-white/20">Cada etapa ≤ 2 semanas</li>
        <li class="px-2.5 py-1 rounded-full border border-white/20">Validación en paralelo</li>
        <li class="px-2.5 py-1 rounded-full border border-white/20">Go-live sin frenar el día a día</li>
        <li class="px-2.5 py-1 rounded-full border border-white/20">Soporte continuo</li>
      </ul>
    </div>
  </section>

  <!-- =========================
       CONTACTO (titulo corregido a "Contáctanos")
       ========================= -->
  <section id="contacto" class="relative z-[1] py-20">
    <div class="max-w-6xl mx-auto px-4">
      <div class="text-center mb-10">
        <h2 class="text-3xl md:text-5xl font-semibold tracking-tight text-white/95">Contáctanos</h2>
        <p class="mt-3 text-white/80">Contanos tu proceso y te proponemos un camino en <b>48 hs</b>.</p>
      </div>

      <form class="grid sm:grid-cols-2 gap-3 max-w-2xl mx-auto">
        <input class="border rounded-xl px-3 py-2 bg-white/5 backdrop-blur-sm text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-purple-400" placeholder="Nombre" />
        <input class="border rounded-xl px-3 py-2 bg-white/5 backdrop-blur-sm text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-purple-400" placeholder="Email" type="email" />
        <input class="border rounded-xl px-3 py-2 sm:col-span-2 bg-white/5 backdrop-blur-sm text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-purple-400" placeholder="Empresa" />
        <select class="border rounded-xl px-3 py-2 sm:col-span-2 bg-white/5 backdrop-blur-sm text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-purple-400">
          <option>Interés: Screening CV</option>
          <option>Interés: WhatsApp/Email</option>
          <option>Interés: Facturas</option>
          <option>Interés: Otros</option>
        </select>
        <button class="px-4 py-3 rounded-xl bg-gradient-to-r from-[#c026d3] to-[#7c3aed] text-white text-sm sm:col-span-2 font-medium shadow-lg hover:shadow-[0_0_20px_rgba(192,38,211,0.5)] transition-all duration-300" type="submit">
          Enviar
        </button>
      </form>
    </div>
  </section>
</BaseLayout>

<script>
  // ======== CONTADORES ========
  const appear = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('is-visible');
        appear.unobserve(entry.target);

        entry.target.querySelectorAll('.metric').forEach(el => {
          const to = Number(el.dataset.to || 0);
          const dur = 900;
          const start = performance.now();
          const step = (t) => {
            const p = Math.min(1, (t - start) / dur);
            const value = Math.round(to * (1 - Math.pow(1 - p, 3)));
            el.textContent = value.toString();
            if (p < 1) requestAnimationFrame(step);
          };
          requestAnimationFrame(step);
        });
      }
    });
  }, { threshold: 0.15 });

  document.querySelectorAll('.js-reveal').forEach(el => appear.observe(el));

  // ======== SPOTLIGHT SIGUE EL MOUSE ========
  const spotlight = document.querySelector('.spotlight');
  if (spotlight) {
    document.addEventListener('mousemove', (e) => {
      const x = e.clientX / window.innerWidth;
      const y = e.clientY / window.innerHeight;

      spotlight.style.transform = `translate(${x * 100 - 50}px, ${y * 100 - 50}px)`;
    });
  }

  // ======== PREVENT REDUCED MOTION ========
  if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
    document.documentElement.style.setProperty('--animation-speed', '0ms');
    document.querySelectorAll('[class*="animate-"]').forEach(el => {
      el.style.animation = 'none';
    });
  }

  // ======== FORM SUBMIT ========
  const form = document.querySelector('#contacto form');
  if (form) {
    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const formData = new FormData(form);
      alert('¡Gracias por tu mensaje! Nos pondremos en contacto en 48 hs.');
      form.reset();
    });
  }
</script>

<style>
  /* ======== ORBITAS (fondo) ======== */
  .orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(40px);
    opacity: 0.4;
    pointer-events: none;
  }
  .orb-1 {
    width: 400px;
    height: 400px;
    background: radial-gradient(circle, #c026d3, transparent 70%);
    top: -100px;
    left: -100px;
    animation: orbit1 15s linear infinite;
  }
  .orb-2 {
    width: 600px;
    height: 600px;
    background: radial-gradient(circle, #7c3aed, transparent 70%);
    bottom: -150px;
    right: -150px;
    animation: orbit2 20s linear infinite;
  }
  @keyframes orbit1 {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
  @keyframes orbit2 {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(-360deg); }
  }

  /* ======== AURORA ======== */
  .aurora {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      180deg,
      rgba(192, 38, 211, 0.1) 0%,
      rgba(124, 58, 237, 0.05) 50%,
      transparent 100%
    );
    opacity: 0.3;
    animation: aurora 12s ease-in-out infinite alternate;
  }
  @keyframes aurora {
    0% { background-position: 0% 0%; }
    100% { background-position: 100% 100%; }
  }

  /* ======== LÍNEAS ======== */
  .lines {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
      linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px);
    background-size: 50px 50px;
    opacity: 0.2;
    animation: linesParallax 30s linear infinite;
  }
  @keyframes linesParallax {
    0% { background-position: 0 0; }
    100% { background-position: 100px 100px; }
  }

  /* ======== SPOTLIGHT ======== */
  .spotlight {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 800px;
    height: 800px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(192, 38, 211, 0.1), transparent 70%);
    transform: translate(-50%, -50%);
    pointer-events: none;
    z-index: 0;
    transition: transform 0.1s ease-out;
  }

  /* ======== SERVICE CARD ESTÁTICO (SIN HOVER) ======== */
  .service-card {
    border: 1px solid rgba(255,255,255,0.05);
    border-radius: 16px;
    padding: 1.75rem;
    background: rgba(255,255,255,0.01);
    backdrop-filter: blur(10px);
    transition: all 0.3s ease;
    cursor: default;
    box-shadow: 0 4px 16px rgba(0,0,0,0.1);
  }

  .service-card__header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
  }

  .service-icon svg {
    width: 48px;
    height: 48px;
    flex-shrink: 0;
  }

  .title {
    color: white;
    font-size: 1.3rem;
    font-weight: 600;
    margin: 0;
  }

  .copy {
    color: #e0e0e0;
    margin-bottom: 1rem;
    font-size: 1rem;
    line-height: 1.6;
  }

  .service-list {
    list-style: none;
    padding: 0;
    margin-bottom: 1.5rem;
  }

  .service-list li {
    color: #d0d0d0;
    font-size: 0.95rem;
    line-height: 1.7;
    margin-bottom: 0.4rem;
  }

  .service-badges {
    margin-bottom: 1.5rem;
  }

  .badge {
    display: inline-block;
    background: rgba(255,255,255,0.05);
    padding: 0.4rem 0.8rem;
    border-radius: 20px;
    font-size: 0.85rem;
    color: #e0e0e0;
  }

  .metric {
    font-weight: bold;
    color: #c026d3;
  }

  .service-cta {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
    margin-top: 1rem;
  }

  .service-cta a {
    text-decoration: none;
    font-size: 0.85rem;
    font-weight: 500;
    border-radius: 8px;
    padding: 0.5rem 1rem;
    transition: all 0.2s ease;
  }

  .service-cta a:nth-child(1) {
    background: linear-gradient(to right, #c026d3, #7c3aed);
    color: white;
  }

  .service-cta a:nth-child(2),
  .service-cta a:nth-child(3) {
    background: rgba(0, 0, 0, 0.7);
    color: white;
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  .service-cta a:hover {
    opacity: 0.9;
  }

  /* ======== RESPONSIVE FIXES ======== */
  @media (max-width: 768px) {
    .service-card {
      padding: 1.5rem;
    }
    .service-card__header {
      gap: 0.75rem;
    }
    .service-icon svg {
      width: 40px;
      height: 40px;
    }
    .title {
      font-size: 1.2rem;
    }
    .service-cta {
      flex-direction: column;
      align-items: stretch;
    }
    .service-cta a {
      text-align: center;
    }
  }

  /* ======== SMOOTH SCROLL ======== */
  html {
    scroll-behavior: smooth;
  }

  /* ======== ACCESIBILITY ======== */
  :focus-visible {
    outline: 2px solid #c026d3;
    outline-offset: 2px;
  }
</style>