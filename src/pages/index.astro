---
import BaseLayout from "../layouts/BaseLayout.astro";

// ‚úÖ Importo los SVG para BENEFICIOS (m√°s robusto que usar /src/assets/... en <img>)
import clockIcon from "../assets/clock.svg?url";
import dashboardIcon from "../assets/dashboard.svg?url";
import alertIcon from "../assets/alert.svg?url";

// base para rutas en GitHub Pages/subrutas
const base = import.meta.env.BASE_URL || "/";
---

<BaseLayout
  title="CEREVO ‚Äî Automatizaciones con IA"
  description="Automatiza procesos con inteligencia artificial para ahorrar tiempo y costos."
>
 <!-- HERO -->
<section class="hero-surface hero-full hero-padding relative flex items-center justify-center">
  <!-- capas de fondo -->
  <div class="orb orb-1"></div>
  <div class="orb orb-2"></div>
  <div class="aurora"></div>
  <div class="lines"></div>
  <div class="spotlight"></div>
  <div class="hero-fade-bottom"></div>

  <!-- contenido -->
  <div class="hero-content relative z-[1] max-w-4xl mx-auto text-center px-4">
    <h1 class="text-4xl md:text-6xl font-semibold tracking-tight text-white/95">
      Automatiza hoy.<br/>
      <span class="text-transparent bg-clip-text bg-gradient-to-r from-[#c026d3] to-[#7c3aed]">Eficiencia que se nota.</span>
    </h1>
    <p class="mt-4 text-white/85 leading-relaxed">
      Integramos Inteligencia Artificial en tus procesos con flujos para reducir tiempos, errores y costos.
      Eleg√≠ un servicio y <a href="#contacto" class="btn-link">escribinos</a>.
    </p>

    <div class="mt-8 flex flex-wrap items-center justify-center gap-3">
      <a href="#contacto"
         class="px-5 py-3 rounded-xl text-white text-sm font-medium
                bg-gradient-to-r from-[#c026d3] to-[#7c3aed] hover:opacity-95 transition">
        Solicitar plan
      </a>
      <a href="#productos"
         class="px-5 py-3 rounded-xl text-white text-sm font-medium
                bg-gradient-to-r from-[#c026d3] to-[#7c3aed] hover:opacity-95 transition">
        Ver productos
      </a>
    </div>

    <div class="mt-6 flex flex-wrap items-center justify-center gap-4">
      <span class="px-5 py-3 rounded-xl text-white text-sm font-medium bg-black/80 backdrop-blur-sm">Implementaci√≥n √°gil</span>
      <span class="px-5 py-3 rounded-xl text-white text-sm font-medium bg-black/80 backdrop-blur-sm">Integrable con tus procesos</span>
      <span class="px-5 py-3 rounded-xl text-white text-sm font-medium bg-black/80 backdrop-blur-sm">Ahorro de costo operativo</span>
    </div>
  </div>
</section>


  <!-- =========================
   BENEFICIOS 
   ========================= -->
<section id="beneficios" class="relative z-[1] py-20">
  <div class="max-w-6xl mx-auto px-4">
    <div class="text-center mb-10">
      <h2 class="text-3xl md:text-5xl font-semibold tracking-tight text-white/95">
        Optimiza, acelera y <span class="text-transparent bg-clip-text bg-gradient-to-r from-[#c026d3] to-[#7c3aed]">automatiza</span>
      </h2>
      <p class="mt-3 text-white/80">
        Resultados medibles desde la primera semana. Integramos IA con lo que ya us√°s. Reduce tareas repetitivas para que tu equipo se concentre en lo importante.
      </p>
    </div>

    <div class="grid gap-6 md:gap-8 md:grid-cols-3">

<!-- Tarjeta 1: Reducci√≥n del trabajo manual -->
<article class="benefit-card js-reveal">
  <div class="icon-visual flex justify-center mb-4">
    <svg class="clock-icon" width="80" height="80" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="#c026d3">
      <g id="Octicons" fill="none" fill-rule="evenodd" stroke="none" stroke-width="1">
              <g id="dashboard" fill="currentColor">
      <path d="M12,6a.99974.99974,0,0,0-1,1v4.38379L8.56934,12.60693a.99968.99968,0,1,0,.89843,1.78614l2.98145-1.5A.99874.99874,0,0,0,13,12V7A.99974.99974,0,0,0,12,6Zm0-4A10,10,0,1,0,22,12,10.01146,10.01146,0,0,0,12,2Zm0,18a8,8,0,1,1,8-8A8.00917,8.00917,0,0,1,12,20Z" />
    </svg>
  </div>
  <div class="simple-card__body text-center">
    <h3 class="benefit-title text-[#c026d3] font-bold text-lg">Reducci√≥n del trabajo manual</h3>
    <p class="copy text-white/80 mt-2">Automatizamos tareas repetitivas para liberar a tu equipo.</p>
    <div class="badges mt-3">
      <span class="badge bg-black/50 border border-[#c026d3] text-[#c026d3] rounded-full px-3 py-1 inline-block">
        <b class="metric" data-to="45">0</b>% menos tiempo operativo
      </span>
    </div>
  </div>
</article>

      <!-- Tarjeta 2: Mayor velocidad operativa -->
      <article class="benefit-card js-reveal">
        <div class="icon-visual flex justify-center mb-4">
          <svg class="dashboard-icon" width="80" height="80" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="#c026d3">
            <g id="Octicons" fill="none" fill-rule="evenodd" stroke="none" stroke-width="1">
              <g id="dashboard" fill="currentColor">
                <path id="Shape" d="M9 5H8V4h1v1zm4 3h-1v1h1V8zM6 5H5v1h1V5zM5 8H4v1h1V8zm11-5.5l-.5-.5L9 7c-.06-.02-1 0-1 0-.55 0-1 .45-1 1v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-.92l6-5.58zm-1.59 4.09c.19.61.3 1.25.3 1.91 0 3.42-2.78 6.2-6.2 6.2-3.42 0-6.21-2.78-6.21-6.2 0-3.42 2.78-6.2 6.2-6.2 1.2 0 2.31.34 3.27.94l.94-.94A7.459 7.459 0 0 0 8.51 1C4.36 1 1 4.36 1 8.5 1 12.64 4.36 16 8.5 16c4.14 0 7.5-3.36 7.5-7.5 0-1.03-.2-2.02-.59-2.91l-1 1z"></path>
              </g>
            </g>
          </svg>
        </div>
        <div class="simple-card__body text-center">
          <h3 class="benefit-title text-[#c026d3] font-bold text-lg">Mayor velocidad operativa</h3>
          <p class="copy text-white/80 mt-2">Flujos m√°s √°giles, respuestas en minutos y no en horas.</p>
          <div class="badges mt-3">
            <span class="badge bg-black/50 border border-[#c026d3] text-[#c026d3] rounded-full px-3 py-1 inline-block">
              <b class="metric" data-to="10">0</b> veces m√°s r√°pido, eficiencia que se nota.
            </span>
          </div>
        </div>
      </article>

      <!-- Tarjeta 3: Menos errores humanos -->
      <article class="benefit-card js-reveal">
        <div class="icon-visual flex justify-center mb-4">
          <svg class="alert-icon" width="80" height="80" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="#c026d3">
            <g id="Octicons" fill="none" fill-rule="evenodd" stroke="none" stroke-width="1">
              <g id="alert" fill="currentColor">
                <path id="Shape" d="M8.865 1.52c-.18-.31-.51-.5-.87-.5s-.69.19-.87.5L.275 13.5c-.18.31-.18.69 0 1 .19.31.52.5.87.5h13.7c.36 0 .69-.19.86-.5.17-.31.18-.69.01-1L8.865 1.52zM8.995 13h-2v-2h2v2zm0-3h-2V6h2v4z"></path>
              </g>
            </g>
          </svg>
        </div>
        <div class="simple-card__body text-center">
          <h3 class="benefit-title text-[#c026d3] font-bold text-lg">Menos errores humanos</h3>
          <p class="copy text-white/80 mt-2">Decisiones m√°s precisas y estandarizadas. Menos fallos y m√°s calidad en cada proceso.</p>
          <div class="badges mt-3">
            <span class="badge bg-black/50 border border-[#c026d3] text-[#c026d3] rounded-full px-3 py-1 inline-block">
              <b class="metric" data-to="60">0</b>% menos incidencias
            </span>
          </div>
        </div>
      </article>

    </div>
  </div>
</section>

<!-- =================== PRODUCTOS =================== -->
<section id="productos" class="section-surface py-20">
  <div class="section-content max-w-6xl mx-auto px-4">
    <div class="text-center mb-10">
      <!-- Logo CEREVO centrado, mismo tama√±o que iconos -->
      <img src={`${base}icons/cerevologo.svg`} alt="CEREVO" class="products-logo" />
      <h2 class="mt-4 text-3xl md:text-5xl font-semibold tracking-tight text-white/95">
        Productos
      </h2>
      <p class="mt-3 text-white/80">Roles digitales de CEREVO para acelerar tu negocio.</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-5 md:gap-8">

      <!-- AURA -->
      <article class="simple-card service-card product-card js-reveal">
        <div class="service-card__header flex flex-col items-center text-center gap-2">
          <img src={`${base}icons/aura.svg`} alt="AURA" class="product-icon" />
          <p class="product-subtitle">Asistente de Recursos Humanos</p>
        </div>
        <ul class="service-list text-center text-sm md:text-base">
          <li>Verifica informaci√≥n personal y laboral.</li>
          <li>Agenda entrevistas de forma autom√°tica y coordinada.</li>
          <li>Filtra y clasifica CVs seg√∫n experiencia y cercan√≠a.</li>
          <li>Calcula compatibilidad con los perfiles buscados.</li>
          <li>Entrega un ranking listo para decidir m√°s r√°pido.</li>
          <li>Optimiza el proceso de contrataci√≥n de inicio a fin.</li>
        </ul>
        <div class="service-cta flex flex-wrap gap-2 mt-6 justify-center">
          <a href="#contacto" class="px-4 md:px-5 py-2.5 rounded-lg text-white text-sm font-medium bg-gradient-to-r from-[#c026d3] to-[#7c3aed] hover:opacity-95 transition">Quiero esto</a>
        </div>
      </article>

      <!-- Syncro -->
      <article class="simple-card service-card product-card js-reveal">
        <div class="service-card__header flex flex-col items-center text-center gap-2">
          <img src={`${base}icons/syncro.svg`} alt="Syncro" class="product-icon" />
          <p class="product-subtitle">Auxiliar Administrativo Inteligente</p>
        </div>
        <ul class="service-list text-center text-sm md:text-base">
          <li>Gestiona √≥rdenes de compra aplicando reglas de negocio.</li>
          <li>Aprende las decisiones estrat√©gicas de tu empresa.</li>
          <li>Env√≠a facturas a tu ERP y √≥rdenes de distribuci√≥n log√≠stica.</li>
          <li>Notifica por mail y permite interacci√≥n por WhatsApp o Telegram.</li>
          <li>Genera reportes autom√°ticos de gesti√≥n y seguimiento.</li>
          <li>Reduce carga manual y errores en tareas administrativas.</li>
        </ul>
        <div class="service-cta flex flex-wrap gap-2 mt-6 justify-center">
          <a href="#contacto" class="px-4 md:px-5 py-2.5 rounded-lg text-white text-sm font-medium bg-gradient-to-r from-[#c026d3] to-[#7c3aed] hover:opacity-95 transition">Quiero esto</a>
        </div>
      </article>

      <!-- Vector -->
      <article class="simple-card service-card product-card js-reveal">
        <div class="service-card__header flex flex-col items-center text-center gap-2">
          <img src={`${base}icons/vector.svg`} alt="Vector" class="product-icon" />
          <p class="product-subtitle">Agente Comercial 24/7</p>
        </div>
        <ul class="service-list text-center text-sm md:text-base">
          <li>Extrae datos de potenciales clientes de distintas fuentes.</li>
          <li>Centraliza y organiza los leads en una base √∫nica.</li>
          <li>Mantiene tu pipeline de ventas activo las 24 horas.</li>
          <li>Aumenta la eficiencia y la conversi√≥n del equipo comercial.</li>
          <li>Automatiza el seguimiento de oportunidades y recordatorios.</li>
          <li>Analiza el rendimiento comercial para detectar oportunidades.</li>
        </ul>
        <div class="service-cta flex flex-wrap gap-2 mt-6 justify-center">
          <a href="#contacto" class="px-4 md:px-5 py-2.5 rounded-lg text-white text-sm font-medium bg-gradient-to-r from-[#c026d3] to-[#7c3aed] hover:opacity-95 transition">Quiero esto</a>
        </div>
      </article>

      <!-- Nova -->
      <article class="simple-card service-card product-card js-reveal">
        <div class="service-card__header flex flex-col items-center text-center gap-2">
          <img src={`${base}icons/nova.svg`} alt="Nova" class="product-icon" />
          <p class="product-subtitle">Secretaria Ejecutiva Automatizada (IA de voz)</p>
        </div>
        <ul class="service-list text-center text-sm md:text-base">
          <li>Atiende llamadas entrantes con IA de voz natural.</li>
          <li>Identifica intenci√≥n y deriva al √°rea o persona correcta.</li>
          <li>Disponible 24/7 sin ampliar el equipo.</li>
          <li>Mejora la experiencia y la atenci√≥n al cliente.</li>
          <li>Gestiona agendas, recordatorios y tareas por voz.</li>
          <li>Se integra con sistemas internos para respuestas precisas.</li>
        </ul>
        <div class="service-cta flex flex-wrap gap-2 mt-6 justify-center">
          <a href="#contacto" class="px-4 md:px-5 py-2.5 rounded-lg text-white text-sm font-medium bg-gradient-to-r from-[#c026d3] to-[#7c3aed] hover:opacity-95 transition">Quiero esto</a>
        </div>
      </article>

    </div>
  </div>
</section>

<!-- =============== IMPLEMENTACIONES EN PRODUCCI√ìN (VIDEOS) =============== -->
<section id="implementaciones" class="relative z-[1] py-20">
  <div class="max-w-6xl mx-auto px-4">
    <div class="text-center mb-10">
      <h2 class="text-3xl md:text-5xl font-semibold tracking-tight text-white/95">
        Implementaciones en producci√≥n
      </h2>
      <p class="mt-3 text-white/80 max-w-3xl mx-auto">
        Dos productos funcionando hoy en empresas reales. Mir√° un resumen en video.
      </p>
    </div>

    <div class="video-grid">
      <!-- Video AURA -->
      <article class="video-card">
        <header class="video-head">
          <img class="video-icon" src={`${base}icons/aura.svg`} alt="AURA" title="AURA" />
          <h3 class="video-title">AURA ‚Äî Asistente de Recursos Humanos</h3>
          <p class="video-desc">Verifica datos, agenda entrevistas y filtra/ranquea CVs por experiencia y cercan√≠a para entregar un ranking listo.</p>
        </header>
        <div class="video-frame">
          <video controls preload="metadata" aria-label="Video demo AURA" poster={`${base}Videos/aura.jpg`}>
            <source src={`${base}Videos/aura.mp4`} type="video/mp4" />
            Tu navegador no soporta video HTML5.
          </video>
        </div>
        <div class="video-actions">
          <a href={`${base}Videos/aura.mp4`} target="_blank" rel="noopener" class="btn-link">Ver en pantalla completa</a>
        </div>
      </article>

      <!-- Video Syncro -->
      <article class="video-card">
        <header class="video-head">
          <img class="video-icon" src={`${base}icons/syncro.svg`} alt="Syncro" title="Syncro" />
          <h3 class="video-title">Syncro ‚Äî Auxiliar Administrativo Inteligente</h3>
          <p class="video-desc">Gestiona √≥rdenes de compra con reglas, integra ERP y log√≠stica, genera reportes autom√°ticos.</p>
        </header>
        <div class="video-frame">
          <video controls preload="metadata" aria-label="Video demo Syncro" poster={`${base}Videos/syncro.jpg`}>
            <source src={`${base}Videos/syncro.mp4`} type="video/mp4" />
            Tu navegador no soporta video HTML5.
          </video>
        </div>
        <div class="video-actions">
          <a href={`${base}Videos/syncro.mp4`} target="_blank" rel="noopener" class="btn-link">Ver en pantalla completa</a>
        </div>
      </article>
    </div>
  </div>
</section>


  <!-- C√ìMO TRABAJAMOS -->
<section id="como-trabajamos" class="relative z-[1] py-20 mt-16">
  <div class="max-w-6xl mx-auto px-4">
    <div class="text-center mb-10">
      <h2 class="text-3xl md:text-5xl font-semibold tracking-tight text-white/95">
        C√≥mo trabajamos
      </h2>
      <p class="mt-3 text-white/80">
        Un modelo en 4 etapas, con tiempos acotados y sin frenar tu operaci√≥n.
      </p>
    </div>

    <div class="grid md:grid-cols-2 gap-4 overflow-x-auto md:overflow-visible auto-cols-[minmax(320px,560px)] grid-flow-col md:grid-flow-row snap-x md:snap-none pb-2">
      <!-- 1 (FIX ancho m√≥vil) -->
      <article class="rounded-2xl border border-white/10 bg-white/[.02] backdrop-blur p-4 grid grid-cols-[auto,1fr] gap-3 snap-start min-w-[320px] max-w-[560px] w-full md:w-auto">
        <div class="text-xl" aria-hidden="true">üß≠</div>
        <div>
          <h3 class="font-semibold text-white/95">Contacto inicial y relevamiento</h3>
          <ul class="mt-2 space-y-1 text-white/80 text-sm">
            <li>Entendemos tu necesidad y puntos cr√≠ticos.</li>
            <li>Definimos alcance y objetivos iniciales.</li>
            <li>Confirmamos viabilidad t√©cnica con ejemplos de referencia.</li>
          </ul>
          <span class="inline-flex mt-2 text-xs px-2 py-1 rounded-full border border-violet-400/40 text-violet-200/90 bg-violet-500/10">Tiempo m√°x. 2 semanas</span>
        </div>
      </article>

      <!-- 2 -->
      <article class="rounded-2xl border border-white/10 bg-white/[.02] backdrop-blur p-4 grid grid-cols-[auto,1fr] gap-3 snap-start">
        <div class="text-xl" aria-hidden="true">üß†</div>
        <div>
          <h3 class="font-semibold text-white/95">MOC y concepto l√≥gico</h3>
          <ul class="mt-2 space-y-1 text-white/80 text-sm">
            <li>Presentamos el Modelo Operativo Conceptual.</li>
            <li>Alineamos expectativas con tu equipo y refinamos.</li>
            <li>Dejamos criterios claros para dise√±o y desarrollo.</li>
          </ul>
          <span class="inline-flex mt-2 text-xs px-2 py-1 rounded-full border border-violet-400/40 text-violet-200/90 bg-violet-500/10">Tiempo m√°x. 2 semanas</span>
        </div>
      </article>

      <!-- 3 -->
      <article class="rounded-2xl border border-white/10 bg-white/[.02] backdrop-blur p-4 grid grid-cols-[auto,1fr] gap-3 snap-start">
        <div class="text-xl" aria-hidden="true">üß™</div>
        <div>
          <h3 class="font-semibold text-white/95">Testing en paralelo (validaci√≥n)</h3>
          <ul class="mt-2 space-y-1 text-white/80 text-sm">
            <li>Ejecutamos en paralelo a tu entorno real.</li>
            <li>Ajustamos con feedback continuo, sin afectar producci√≥n.</li>
            <li>Validamos calidad y resultados antes del go-live.</li>
          </ul>
          <span class="inline-flex mt-2 text-xs px-2 py-1 rounded-full border border-violet-400/40 text-violet-200/90 bg-violet-500/10">Tiempo m√°x. 2 semanas</span>
        </div>
      </article>

      <!-- 4 -->
      <article class="rounded-2xl border border-white/10 bg-white/[.02] backdrop-blur p-4 grid grid-cols-[auto,1fr] gap-3 snap-start">
        <div class="text-xl" aria-hidden="true">üöÄ</div>
        <div>
          <h3 class="font-semibold text-white/95">Producci√≥n y soporte</h3>
          <ul class="mt-2 space-y-1 text-white/80 text-sm">
            <li>Integramos la automatizaci√≥n a tu flujo real.</li>
            <li>Estabilizaci√≥n inicial y soporte continuo.</li>
            <li>Evoluci√≥n por m√©tricas y nuevas necesidades.</li>
          </ul>
          <span class="inline-flex mt-2 text-xs px-2 py-1 rounded-full border border-violet-400/40 text-violet-200/90 bg-violet-500/10">Estabilizaci√≥n m√°x. 2 semanas</span>
        </div>
      </article>
    </div>

    <ul class="flex flex-wrap gap-2 justify-center mt-6 text-white/80 text-sm">
      <li class="px-2.5 py-1 rounded-full border border-white/20">Cada etapa ‚â§ 2 semanas</li>
      <li class="px-2.5 py-1 rounded-full border border-white/20">Validaci√≥n en paralelo</li>
      <li class="px-2.5 py-1 rounded-full border border-white/20">Go-live sin frenar el d√≠a a d√≠a</li>
      <li class="px-2.5 py-1 rounded-full border border-white/20">Soporte continuo</li>
    </ul>
  </div>
</section>


  <!-- CONTACTO -->
<section id="contacto" class="relative z-[1] py-20">
  <div class="max-w-6xl mx-auto px-4">
    <div class="text-center mb-10">
      <h2 class="text-3xl md:text-5xl font-semibold tracking-tight text-white/95">Cont√°ctanos</h2>
      <p class="mt-3 text-white/80">Contanos tu proceso y te proponemos un camino en <b>48 hs</b>.</p>
    </div>

    <form id="form-contacto" class="grid sm:grid-cols-2 gap-3 max-w-2xl mx-auto" autocomplete="on" novalidate>
      <input name="nombre" id="nombre" class="border rounded-xl px-3 py-2 bg-white/5 backdrop-blur-sm text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-purple-400" placeholder="Nombre" required />
      <input name="apellido" id="apellido" class="border rounded-xl px-3 py-2 bg-white/5 backdrop-blur-sm text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-purple-400" placeholder="Apellido" required />
      <input type="email" name="email" id="email" class="border rounded-xl px-3 py-2 bg-white/5 backdrop-blur-sm text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-purple-400" placeholder="Correo electr√≥nico" required />

      <select name="necesidad" id="necesidad" class="border rounded-xl px-3 py-2 sm:col-span-2 bg-black text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-purple-400" required>
        <option value="">¬øQu√© necesitas automatizar?</option>
        <option value="leads">Aura</option>
        <option value="facturas">Syncro</option>
        <option value="base-datos">Vector</option>
        <option value="reclutamiento">Nova</option>
        <option value="personalizado">Automatizaci√≥n Personalizada</option>
      </select>

      <select name="presupuesto" id="presupuesto" class="border rounded-xl px-3 py-2 sm:col-span-2 bg-black text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-purple-400" required>
        <option value="">Rango de presupuesto estimado</option>
        <option value="500-1000">$500 ‚Äì $1,000</option>
        <option value="1000-2000">$1,000 ‚Äì $2,000</option>
        <option value="2000-3000">$2,000 ‚Äì $3,000</option>
        <option value="3000-5000">$3,000 ‚Äì $5,000</option>
        <option value="5000+">$5,000+</option>
      </select>

      <textarea name="mensaje" id="mensaje" class="border rounded-xl px-3 py-2 sm:col-span-2 bg-white/5 backdrop-blur-sm text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-purple-400" rows="4" placeholder="Cu√©ntanos m√°s sobre tu proyecto..." required></textarea>

      <!-- Honeypot anti-bots (oculto) -->
      <input type="text" name="empresa" id="empresa" style="display:none" tabindex="-1" autocomplete="off" />

      <button class="px-4 py-3 rounded-xl bg-gradient-to-r from-[#c026d3] to-[#7c3aed] text-white text-sm sm:col-span-2 font-medium shadow-lg hover:shadow-[0_0_20px_rgba(192,38,211,0.5)] transition-all duration-300" type="submit">
        Enviar
      </button>

      <!-- Mensajes -->
      <p id="ok" class="sm:col-span-2 text-green-300 mt-2 hidden">¬°Gracias! Te escribimos en breve.</p>
      <p id="error" class="sm:col-span-2 text-red-300 mt-2 hidden">Ups, hubo un problema. Prob√° de nuevo.</p>
    </form>
  </div>
</section>
<script>
  // 1) Usa la URL de prueba de n8n primero (webhook-test), luego cambi√° a /webhook/ (producci√≥n)
  const WEBHOOK_URL = "https://agustinsalgado.app.n8n.cloud/webhook/form-contacto"; 
  // Ej: https://n8n.tudominio.com/webhook-test/form-contacto

  const form = document.getElementById('form-contacto');
  const okMsg = document.getElementById('ok');
  const errMsg = document.getElementById('error');

  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    // Honeypot: si ‚Äòempresa‚Äô viene con texto, ignoramos (probable bot)
    if (form.empresa.value.trim() !== "") return;

    const data = {
      nombre: form.nombre.value.trim(),
      apellido: form.apellido.value.trim(),
      email: form.email.value.trim(),
      necesidad: form.necesidad.value,
      presupuesto: form.presupuesto.value,
      mensaje: form.mensaje.value.trim(),
    };

    try {
      const res = await fetch(WEBHOOK_URL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data),
        mode: "cors",
      });
      if (!res.ok) throw new Error("Estado " + res.status);
      okMsg.classList.remove('hidden');
      errMsg.classList.add('hidden');
      form.reset();
    } catch (err) {
      console.error(err);
      errMsg.classList.remove('hidden');
      okMsg.classList.add('hidden');
    }
  });
</script>

</BaseLayout>
<script is:inline>
  // Anima <b class="metric" data-to="45">0</b>
  (function () {
    const ease = t => 1 - Math.pow(1 - t, 3); // easing suave

    function animate(el) {
      const target = parseFloat(el.getAttribute('data-to') || '0');
      const dur = parseInt(el.getAttribute('data-duration') || '1200', 10);
      const start = performance.now();

      function frame(now) {
        const p = Math.min(1, (now - start) / dur);
        const value = Math.round(ease(p) * target);
        el.textContent = value; // solo el n√∫mero; % o "veces" quedan fuera
        if (p < 1) requestAnimationFrame(frame);
      }
      requestAnimationFrame(frame);
    }

    const metrics = document.querySelectorAll('.metric');
    if (!metrics.length) return;

    // Lanza cuando la m√©trica entra en viewport
    const io = new IntersectionObserver((entries) => {
      entries.forEach(e => {
        if (e.isIntersecting) {
          animate(e.target);
          io.unobserve(e.target);
        }
      });
    }, { threshold: 0.4 });

    metrics.forEach(m => io.observe(m));
  })();
</script>
